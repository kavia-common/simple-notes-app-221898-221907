{"is_source_file": true, "format": "JavaScript", "description": "This file defines utility functions for managing persistent storage of notes within a notes application. It provides methods to safely parse and stringify JSON data, normalize note data structures, and get/set the application state in localStorage.", "external_files": ["window.localStorage"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify"], "published": ["getStored", "setStored"], "classes": [], "methods": [{"name": "safeParse(str, fallback)", "description": "Safely parse JSON strings and guarantee an object is returned. Returns the fallback value on parsing failure or if result is not an object.", "scope": "", "scopeKind": ""}, {"name": "safeStringify(value)", "description": "Safely stringify objects; returns a default state string if serialization fails.", "scope": "", "scopeKind": ""}, {"name": "asString(v)", "description": "Ensure a value is a string; otherwise coerce to an empty string.", "scope": "", "scopeKind": ""}, {"name": "asArray(v)", "description": "Ensure a value is an array; otherwise return an empty array.", "scope": "", "scopeKind": ""}, {"name": "getStored()", "description": "Retrieve and normalize the notes application state from localStorage, returning a guaranteed valid object with notes, selectedId, and filterText.", "scope": "", "scopeKind": ""}, {"name": "setStored(payload)", "description": "Serialize and store the notes application state into localStorage.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "JSON.parse", "window.localStorage.setItem", "JSON.stringify"], "search-terms": ["localStorage", "notes", "getStored", "setStored", "JSON parsing", "storage utility"], "state": 2, "file_id": 13, "knowledge_revision": 42, "git_revision": "a3d80db90082ffc1829f4029b106a4865af931ad", "revision_history": [{"30": ""}, {"42": "a3d80db90082ffc1829f4029b106a4865af931ad"}], "ctags": [{"_type": "tag", "name": "DEFAULT_STATE", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^const DEFAULT_STATE = { notes: [], selectedId: null, filterText: '' };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^const STORAGE_KEY = 'notes_app_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "asArray", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^function asArray(v) {$/", "language": "JavaScript", "kind": "function", "signature": "(v)"}, {"_type": "tag", "name": "asString", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^function asString(v) {$/", "language": "JavaScript", "kind": "function", "signature": "(v)"}, {"_type": "tag", "name": "filterText", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^    filterText: asString(payload?.filterText),$/", "language": "JavaScript", "kind": "property", "scope": "setStored.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "filterText", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^const DEFAULT_STATE = { notes: [], selectedId: null, filterText: '' };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "getStored", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^export function getStored() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^  const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "setStored", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^    notes: asArray(payload?.notes),$/", "language": "JavaScript", "kind": "property", "scope": "setStored.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^const DEFAULT_STATE = { notes: [], selectedId: null, filterText: '' };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^function safeParse(str, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(str, fallback)"}, {"_type": "tag", "name": "safeStringify", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^function safeStringify(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^    selectedId: payload?.selectedId ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "setStored.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^const DEFAULT_STATE = { notes: [], selectedId: null, filterText: '' };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "setStored", "path": "/home/kavia/workspace/code-generation/simple-notes-app-221898-221907/notes_frontend/src/utils/storage.js", "pattern": "/^export function setStored(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}], "hash": "9276a8d06c832e9450bfe9645b741831", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/utils/storage.js", "fields": [{"name": "filterText: asString(payload?.filterText),", "scope": "setStored.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "const DEFAULT_STATE = { notes: [], selectedId: null, filterText: '' };", "scope": "DEFAULT_STATE", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: asArray(payload?.notes),", "scope": "setStored.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "selectedId: payload?.selectedId ?? null,", "scope": "setStored.normalized", "scopeKind": "class", "description": "unavailable"}]}